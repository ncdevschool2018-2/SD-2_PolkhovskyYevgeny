<table class="table">
  <thead class="thead-dark">
  <tr>
    <th>
      <div><p class="text-warning">{{day}}</p></div>
    </th>
    <th scope="col"> Subject</th>
    <th scope="col">Group</th>
    <th scope="col">Time</th>
    <th scope="col"><span><button type="button" class="btn btn-lg btn-outline-primary" data-toggle="modal"
                                  data-target="#exampleModal"
                                  (click)="_openModalTimetable(templateTimeTable)">
      Add
    </button></span></th>


  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let mon of timetable">

    <th *ngIf="mon.day.includes(day)" scope="row"></th>
    <td *ngIf="mon.day.includes(day)">
      {{mon.subject}}
    </td>

    <td *ngIf="mon.day.includes(day)">{{mon.group}}</td>

    <td *ngIf="mon.day.includes(day)"> {{mon.time}}</td>

    <td *ngIf="mon.day.includes(day)">
      <span><button type="button" class="btn btn-danger"
                    (click)="_deleteTimetable(mon.timetableId)">Delete</button></span>
    </td>

  </tr>
  </tbody>
</table>


<ng-template #templateTimeTable>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Add new lesson</h4>
    <button type="button" class="close pull-right"
            aria-label="Close" (click)="_closeModal()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div>
      <label>TIME</label>

      <div class="form-group">

        <select class="form-control" [(ngModel)]="editableTimetable.slotId">
          <option *ngFor="let slot of slotsDist" [value]="slot.id">{{slot.startTime}} - {{slot.endTime }}</option>

        </select>
      </div>


      <label>Group</label>

      <div class="form-group">

        <select class="form-control" [(ngModel)]="editableTimetable.groupId">
          <option *ngFor="let group of groups" [value]="group.id"> {{group.name}}</option>

        </select>
      </div>


      <!--<pre class="card card-block card-header mb-3">Model: {{selected | json}}</pre>
      <input [(ngModel)]="editableTimetable.groupId"
             [typeahead]="states"
             [value]="selected"
             class="form-control">-->
      <!--<pre class="card card-block card-header">Model: {{myForm.value.state | json}}</pre>

      <form [formGroup]="myForm">
        <input formControlName="state"
               [typeahead]="states"
               [typeaheadOptionsLimit]="7"
               [typeaheadMinLength]="0"
               placeholder="Typeahead inside a form"
               class="form-control">
      </form>-->

      <label>SUBJECT</label>

      <div class="form-group">

        <select class="form-control" [(ngModel)]="chooseSubject">
          <option *ngFor="let subj of subjects" [value]="subj.id">{{subj.subject}}</option>

        </select>
      </div>


    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="_addTimeTable()"
    >{{"Create"}}
    </button>


    <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="_closeModal()">Close</button>
  </div>
</ng-template>
