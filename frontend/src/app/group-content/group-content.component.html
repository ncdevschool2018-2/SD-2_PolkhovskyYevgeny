<!--<ng4-loading-spinner> </ng4-loading-spinner>-->
<ng4-loading-spinner></ng4-loading-spinner>
<body class="bg-light">
<ul class="nav justify-content-end  bg-light">
  <li class="nav-item">
    <a class="nav-link active" href="#">Teacher's name</a>
  </li>
  <!--<li class="nav-item">
      <a class="nav-link" href="#">Link</a>
  </li>
  <li class="nav-item">
      <a class="nav-link" href="#">Link</a>
  </li>-->
  <li class="nav-item">
    <a class="nav-link disabled" routerLink="/signin">Exit</a>
  </li>
</ul>
<div>
  <h1 align="center">Group number : {{group}} </h1>
</div>
<main class="container">
  <div class="my-3 p-3 bg-white rounded shadow-sm">
    <table class="table table-bordered table-striped">
      <thead>

      </thead>
      <tbody>
      <tr *ngFor="let groupContent of groupContent">
        <td scope="row">{{groupContent.id}}</td>
        <td>{{groupContent.name}}</td>
        <td>{{groupContent.surname}}</td>
        <td>
          <span><button type="button" class="btn btn-danger" (click)="_deletePupil(groupContent.id)">Delete</button>
         </span></td>
        <td>
          <span><button type="button" class="btn btn-secondary"
                        (click)="_openModal(template, groupContent)">Edit</button>
        </span></td>

      </tr>


      </tbody>
    </table>
  </div>
  <app-go-back></app-go-back>
</main>
</body>
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{"Edit"}}</h4>
    <button type="button" class="close pull-right"
            aria-label="Close" (click)="_closeModal()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <label>name</label>
      <input class="form-control" name="name" [(ngModel)]="editableGC.name" #name="ngModel" required/>
      <!--<div [hidden]="name.valid || name.untouched" class="alert alert-danger">
        Pls set username &lt;!&ndash;Easy way to create client validation&ndash;&gt;
      </div>-->
    </div>
    <div class="form-group">
      <label>surname</label>
      <input class="form-control" name="surname" [(ngModel)]="editableGC.surname" #surname="ngModel"
             required/>
      <!--<div [hidden]="surname.valid || surname.untouched" class="alert alert-danger">
        surname is incorrect
      </div>-->
    </div>

    <div class="form-group">

      <select class="form-control" id="exampleFormControlSelect14" [(ngModel)]="editableGC.groupId">
        <option *ngFor="let group of groups" [value]="group.id">{{group.name}}</option>

      </select>
    </div>


  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="_addGroupContent(name, surname)"
            [disabled]="name.invalid || surname.invalid ">{{"Save"}}
    </button>
    <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="_closeModal()">Close</button>

  </div>
</ng-template>
